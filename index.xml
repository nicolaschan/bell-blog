<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>bell.plus Developer Blog</title>
    <link>https://blog.bell.plus/</link>
    <description>Recent content on bell.plus Developer Blog</description>
    <generator>Hugo - gohugo.io</generator>
    <language>en</language>
    <contact>hello@bell.plus</contact>
    <copyright></copyright>
    
        <atom:link href="https://blog.bell.plus/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>How does bell synchronize?</title>
      <link>https://blog.bell.plus/post/bell-correction/</link>
      <pubDate>Tue, 01 Jan 2019 00:00:00 +0000</pubDate>
      <author>bell.plus Developers</author>
      <guid>https://blog.bell.plus/post/bell-correction/</guid>
      <description></description>
      
      <content>&lt;p&gt;As the first of the (hopefully) monthly posts, let&amp;rsquo;s talk about one of the earliest &amp;ldquo;discoveries&amp;rdquo; I made when I first made bell: the school bell is not actually on time (usually).&lt;/p&gt;

&lt;p&gt;Most of the time, the school bell is only a couple of seconds off of the correct time, so not many people noticed until I made the bell website. (&lt;a href=&#34;https://web.archive.org/web/20190102010620/https://lahstalon.org/for-the-two-and-a-half-weeks-los-altos-bells-have-been-two-minutes-early/&#34; target=&#34;_blank&#34;&gt;It has been much farther off from correct before&lt;/a&gt;.)&lt;/p&gt;

&lt;p&gt;One of the first complaints I received when making the bell website was that the website wasn&amp;rsquo;t perfectly correct. People would be disappointed if, for example, the website said 0:02 when the bell rings. But the problem wasn&amp;rsquo;t just the school&amp;rsquo;s time. Some friends also showed me that their devices were several minutes off.&lt;/p&gt;

&lt;p&gt;There was a second problem here: each person&amp;rsquo;s device might have a slightly different time. The solution? Synchronize everyone to the bell website&amp;rsquo;s own time, and then from there create an adjustment for the school bell.&lt;/p&gt;

&lt;p&gt;To do this, I initially implemented my own time synchronization algorithm, which worked but was kind of slow. It turns out that there is a package called &lt;a href=&#34;https://www.npmjs.com/package/timesync&#34; target=&#34;_blank&#34;&gt;timesync&lt;/a&gt; which does exactly this, so that is what bell.plus uses as of the time of writing this post. The school correction was actually slightly harder to solve, because I observed it would vary from day to day. Since I made bell.lahs.club when I was a senior and still attending the school everyday, I created a bot on the Telegram messenger that I could send commands during the passing periods to synchronize the bell each day if it was off. For example, if the bell rang one second before the website said it would, I would send the message &amp;ldquo;bellAdd 1000&amp;rdquo; to push the website forward 1000 milliseconds (= 1 second). Currently, since I&amp;rsquo;m at college now, the LAHS Hack Club helps set the day to day corrections. You can actually see &lt;a href=&#34;https://bell.plus/api/data/lahs/correction&#34; target=&#34;_blank&#34;&gt;the raw correction&lt;/a&gt; if you&amp;rsquo;re interested&amp;hellip;&lt;/p&gt;

&lt;p&gt;I hope this was a somewhat interesting post!&lt;/p&gt;
</content>
      
    </item>
    
    <item>
      <title>(Re-)Introducing the Blog</title>
      <link>https://blog.bell.plus/post/introducing-blog/</link>
      <pubDate>Tue, 11 Dec 2018 00:00:00 +0000</pubDate>
      <author>bell.plus Developers</author>
      <guid>https://blog.bell.plus/post/introducing-blog/</guid>
      <description></description>
      
      <content>&lt;p&gt;Welcome to the new bell developer blog! When bell first came out as &lt;a href=&#34;https://bell.lahs.club&#34; target=&#34;_blank&#34;&gt;bell.lahs.club&lt;/a&gt;, we used to have a small blog where we made a few posts about the development process. Since then, the primary bell developers have graduated from Los Altos High School and have passed along the responsibility of managing the LAHS schedules to the &lt;a href=&#34;https://lahs.club&#34; target=&#34;_blank&#34;&gt;LAHS Hack Club&lt;/a&gt;, so it makes sense to have a separate blog just about the development process while the Hack Club makes announcements specific to LAHS on &lt;a href=&#34;https://instagram.com/bellpluslahs&#34; target=&#34;_blank&#34;&gt;their Instagram account&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;If you&amp;rsquo;re interested in learning about the latest feature announcements and plans for bell, stay tuned on this blog. We will try to make a post on the 1st of every month. If you&amp;rsquo;re interested in learning more about bell, a good place to start is the &lt;a href=&#34;https://github.com/nicolaschan/bell/blob/master/README.md&#34; target=&#34;_blank&#34;&gt;README on our GitHub repository&lt;/a&gt;.&lt;/p&gt;
</content>
      
    </item>
    
    <item>
      <title>About bell.plus</title>
      <link>https://blog.bell.plus/about/</link>
      <pubDate>Tue, 11 Dec 2018 00:00:00 +0000</pubDate>
      <author>bell.plus Developers</author>
      <guid>https://blog.bell.plus/about/</guid>
      <description></description>
      
      <content>&lt;p&gt;Bell is a &lt;strong&gt;synchronized timer that counts down to the next time the bell rings at school&lt;/strong&gt;. This software continues to be developed by Los Altos High School alumni, &lt;a href=&#34;https://github.com/nicolaschan&#34; target=&#34;_blank&#34;&gt;nicolaschan&lt;/a&gt; and &lt;a href=&#34;https://github.com/noloerino&#34; target=&#34;_blank&#34;&gt;noloerino&lt;/a&gt;, who began working on it during their senior year of high school. The &lt;a href=&#34;https://lahs.club&#34; target=&#34;_blank&#34;&gt;LAHS Hack Club&lt;/a&gt; helps to maintain the schedules for LAHS.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Bell is an open-source project. The source code is available on &lt;a href=&#34;https://github.com/nicolaschan/bell&#34; target=&#34;_blank&#34;&gt;our GitHub repository&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://chrome.google.com/webstore/detail/belllahsclub-extension/pkeeekfbjjpdkbijkjfljamglegfaikc&#34; target=&#34;_blank&#34;&gt;Chrome extension&lt;/a&gt; originally developed by &lt;a href=&#34;https://github.com/noloerino/bell&#34; target=&#34;_blank&#34;&gt;noloerino&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Usage statistics are available at &lt;a href=&#34;https://bell.plus/stats&#34; target=&#34;_blank&#34;&gt;bell.plus/stats&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;&lt;em&gt;As seen in &lt;a href=&#34;https://web.archive.org/web/20181211080504/https://lahstalon.org/senior-creates-website-for-bell-schedule/&#34; target=&#34;_blank&#34;&gt;The Talon&lt;/a&gt;, the Los Altos High School student newspaper&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
</content>
      
    </item>
    
    <item>
      <title>End of the year</title>
      <link>https://blog.bell.plus/post/end-of-the-year/</link>
      <pubDate>Mon, 22 May 2017 00:00:00 +0000</pubDate>
      <author>bell.plus Developers</author>
      <guid>https://blog.bell.plus/post/end-of-the-year/</guid>
      <description></description>
      
      <content>&lt;p&gt;What a weird experience. Last semester, I was fed up with remembering the schedule so I made a timer. Then lots of people started using my timer. And before I knew it, the news of my fancy timer had spread like wildfire across the school, generating hundreds of hits per day from teachers and students alike.&lt;/p&gt;

&lt;p&gt;I’d like to know what you all thought about using my timer, so &lt;a href=&#34;https://goo.gl/forms/z0WEO9XZFKxJP9VG2&#34; target=&#34;_blank&#34;&gt;I made a short survey&lt;/a&gt;. I really value your feedback because if it weren’t for you, the hundreds of timer users, page 35 of the yearbook would be a lot less exciting without me on it.&lt;/p&gt;

&lt;p&gt;Next year, I’m off to college and the future of my timer is uncertain. I think I will maintain it for at least next year, but it will be more difficult without being here at Los Altos to hear the announcements. I have some plans in mind for a more long-term solution which involves allowing users to set personal schedules.&lt;/p&gt;

&lt;p&gt;If you have any ideas or want to contact me for any other reason, you can include your message in your survey response or email me at &lt;a href=&#34;mailto:bell@lahs.club&#34; target=&#34;_blank&#34;&gt;bell@lahs.club&lt;/a&gt;. If you happen to know a bit of JavaScript, you can also &lt;a href=&#34;https://github.com/nicolaschan/bell&#34; target=&#34;_blank&#34;&gt;contribute to the project&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Have a great summer!&lt;/p&gt;

&lt;p&gt;Nick&lt;/p&gt;
</content>
      
    </item>
    
    <item>
      <title>-4294967295</title>
      <link>https://blog.bell.plus/post/-4294967295/</link>
      <pubDate>Sun, 21 May 2017 00:00:00 +0000</pubDate>
      <author>bell.plus Developers</author>
      <guid>https://blog.bell.plus/post/-4294967295/</guid>
      <description></description>
      
      <content>

&lt;p&gt;Nicolas approached me a couple days ago and told me he would be starting a blog for &lt;a href=&#34;https://bell.lahs.club&#34; target=&#34;_blank&#34;&gt;bell.lahs.club&lt;/a&gt;, which is especially interesting given that we’ll be graduating in less than two weeks. I’m told the domain is being passed on though, so I guess this is for posterity.&lt;/p&gt;

&lt;p&gt;I guess an introduction is in order. I’m Jonathan Shi, graduating senior, headed to Berkeley in EECS next year. I wrote the Chrome extension for bell (which is the reason Nick said I could write a post, &lt;a href=&#34;https://chrome.google.com/webstore/detail/belllahsclub-extension/pkeeekfbjjpdkbijkjfljamglegfaikc&#34; target=&#34;_blank&#34;&gt;downloadable here&lt;/a&gt;), and I’m one of Nick’s roommates next year. He told me I could write about anything here, so I’ll write about a few things: 1) my prior programming experience, 2) the reason I undertook this project, and 3) a little bit of the technical side of stuff that happened over the course of this project.&lt;/p&gt;

&lt;h1 id=&#34;my-life-story&#34;&gt;My life story&lt;/h1&gt;

&lt;p&gt;Anyway, here’s my life story.&lt;/p&gt;

&lt;p&gt;Somewhat ironically, I didn’t really get into coding until this year, after my mom forced me to take an online intro Java course throughout second semester junior year. It was interesting, but not all that inspiring. Then I did a summer thing at COSMOS UC Davis, and one of the things I did was a lot of coding in GNU Octave (a free version of Matlab). I thought it was interesting, so I started learning more code. Throughout the past year, I’ve learned a decent amount of Java (thanks to APCS), Python (thanks to Francis in Computer/Programming Club meetings), a decent amount of Haskell (thanks to Nick and &lt;a href=&#34;http://learnyouahaskell.com/chapters&#34; target=&#34;_blank&#34;&gt;Learn You a Haskell&lt;/a&gt;, and, obviously, a decent amount of Javascript.&lt;/p&gt;

&lt;p&gt;Long story short, it doesn’t take a whole lot of programming experience to do something fairly substantive if you put a lot of effort into it; while writing the Chrome extension wasn’t all that difficult since most of the difficult code (like that governing the bell schedule and stuff) was already written by Nick, I still managed to figure things out with barely a year of coding experience.
Why I did this&lt;/p&gt;

&lt;p&gt;The inspiration for this project wasn’t entirely altruistic — my labor of Javascript love/hate was &lt;a href=&#34;https://physics.lahs.club/&#34; target=&#34;_blank&#34;&gt;physics.lahs.club&lt;/a&gt;, if you’ll excuse the shameless self-promotion. Rather, one of the requirements for the senior project (a really big research project on a topic of your choice in senior English that also requires a “hands-on project” related to your topic).&lt;/p&gt;

&lt;p&gt;I actually made the Chrome extension for my project. Take a guess at what my topic was.
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
Copyright law.&lt;/p&gt;

&lt;p&gt;It’s related, trust me. Here’s how:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;The DMCA (Digital Millenium Copyright Act, 1998) governs the enforcement of copyright on the Internet and on digital devices, and its second provision (17 USC §1201) makes it illegal to circumvent “technological measure that effectively controls access to a work protected under this title” (source). Basically, if a company encrypts their software/firmware, its illegal for users to break that encryption.&lt;/li&gt;
&lt;li&gt;One of the many problems this causes is that users have no way of knowing what their software might be doing because the source code is unviewable, leading to situations where companies are being evil in a Google “don’t be evil” kind of way. That is, they’re taking their users’ information, or worse, creating security vulnerabilities (which I don’t feel like explaining right now, if you want to read more, refer to this piece). One possible solution to this issue is…&lt;/li&gt;
&lt;li&gt;Free software, where, as defined by the GNU Project, is software that lets users run, study, redistribute, and modify the program at leisure. The license with which a project is distributed, indicating how it may/may not be used, is protected by copyright law.&lt;/li&gt;
&lt;li&gt;Free and open source software are not technically the same thing, but the nice thing about bell is that it’s both. So I joined it.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;However, bell was not the first open source project I tried to work on. I spent a couple weeks trawling github and various other sites for a project within my skill range, until I finally found a fairly large one that looked good. Then I tried installing all the dependencies (vagrant, docker, and some other random node stuff that I don’t want to deal with) and it failed, so I gave up and asked Nick if I could help with bell somehow. Even after that, a Chrome extension was not my first option.&lt;/p&gt;

&lt;p&gt;First, I wanted to write an iOS app (although its usefulness would be rather dubious), tried learning Swift and Xcode, but gave up after trying to figure out how to parse JSON and send HTTP requests and then learning that stackoverflow answers applying to Swift 2 might not work in Swift 3.&lt;/p&gt;

&lt;p&gt;I then tried to write an Android app, because Android is written in Java/XML and I know Java. But Android’s libraries are kind of messy, and I didn’t want to deal with JSON in a strongly typed language, so I gave up on that.&lt;/p&gt;

&lt;p&gt;That left me good old Javascript. Turns out Chrome extensions are written in Javascript with fairly straightforward APIs, so I settled on that. After a couple weeks of coding (and heavy consulting with Nick throughout the process), I got a working version. The experience made me learn to both appreciate and hate Javascript more, for reasons that I’m sure are already well-documented elsewhere.&lt;/p&gt;

&lt;h1 id=&#34;what-i-actually-did&#34;&gt;What I actually did&lt;/h1&gt;

&lt;p&gt;Throughout most of the process of making the extension, I was working in parallel with Nick. Most of the Chrome-exclusive stuff is my work only, but I asked him a lot of questions about how to do things, and also how to use the bell libraries he wrote for the main site.&lt;/p&gt;

&lt;p&gt;Writing new code actually wasn’t the only thing I did. I also helped squish bugs in the code for the main site: for example, you know that bug where class/theme cookies would disappear after a session instead of a year like they were supposed to? Turns out that was a flipped conditional operator in CookieManager that I noticed in Wind Ensemble with Nick one day. You’re welcome.&lt;/p&gt;

&lt;p&gt;I also wrote a bunch of documentation; in some places it was easier than others. If I recall correctly, about a third of the BellTimer API and most of ThemeManager and CookieManager are documented, hopefully accurately.&lt;/p&gt;

&lt;p&gt;A few internal changes on the site also happened while I was working with Nick; for example, you’ll now notice that the site’s cookies are stored in base64. That mostly happened because Google’s cookies API is super weird about how it deals with plaintext, so he decided to store everything in base64 mostly for my benefit. Schedule data is now also stored in cookies for potential offline use. Another, even less noticable thing is that the BellTimer class (at least the version in my fork) now allows you to retrive schedule data from any chosen host, so Bell should now hopefully work with any site that specifies &lt;code&gt;/timesync&lt;/code&gt;, &lt;code&gt;/api/version&lt;/code&gt;, &lt;code&gt;/api/schedules&lt;/code&gt;, &lt;code&gt;/api/calendar&lt;/code&gt;, and &lt;code&gt;/api/correction&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Also, turns out git is weird. Here’s a snapshot of a Hangouts conversation I had with Nicolas:&lt;/p&gt;

&lt;blockquote&gt;
J: how do i pull changes from an upstream repo
&lt;br&gt;
N: you&#39;ve done it before, right?
&lt;br&gt;
J: maybe
&lt;br&gt;
N: i dont actually know how
&lt;br&gt;
J: nvm i googled it
&lt;br&gt;
N: something like git pull remote branch
&lt;br&gt;
or something
&lt;br&gt;
J: aaand there&#39;s a conflict
&lt;br&gt;
N: aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
&lt;br&gt;
there is a conflict in syria
&lt;/blockquote&gt;

&lt;p&gt;The final version of the extension is listed under Nick’s name because making a developer account requires you to pay a one-time $5 fee, which I was too lazy to do. Nick already made an extension for image stamps or something, so I just asked him to host it for me.&lt;/p&gt;

&lt;p&gt;Don’t tell anyone, but the first version that was pushed turned out to be something like 9 MiB (Google’s choice of units, not mine). I made the mistake of not removing &lt;code&gt;node_modules&lt;/code&gt;. As of version 1.0.2, the extension should only include necessary HTML, images, and bundled js, which brings it down to about 300 KiB.&lt;/p&gt;

&lt;p&gt;Thanks for following along with this stream of consciousness dev post. Maybe I’ll do another one of these again someday.&lt;/p&gt;

&lt;p&gt;— Jonathan Shi (&lt;a href=&#34;https://github.com/noloerino&#34; target=&#34;_blank&#34;&gt;github&lt;/a&gt;)&lt;/p&gt;
</content>
      
    </item>
    
  </channel>
</rss>